# Migration `20200625233214-enterprise-and-addres-enterprise`

This migration has been generated by pedroksty at 6/25/2020, 11:32:14 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."Enterprise" (
"cnpj" Decimal(65,30)  NOT NULL ,"created_at" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,"email" text  NOT NULL ,"id" SERIAL,"image" text   ,"login" text  NOT NULL ,"name" text  NOT NULL ,"password" text  NOT NULL ,"telefone" Decimal(65,30)  NOT NULL ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."AddresEnterprise" (
"UF" text  NOT NULL ,"bairro" text  NOT NULL ,"cidade" text  NOT NULL ,"created_at" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,"id" SERIAL,"interprise_id" integer  NOT NULL ,"numero" text  NOT NULL ,"rua" text  NOT NULL ,
    PRIMARY KEY ("id"))

CREATE UNIQUE INDEX "AddresEnterprise_interprise_id" ON "public"."AddresEnterprise"("interprise_id")

ALTER TABLE "public"."AddresEnterprise" ADD FOREIGN KEY ("interprise_id")REFERENCES "public"."Enterprise"("id") ON DELETE CASCADE  ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200625020814-fix-table..20200625233214-enterprise-and-addres-enterprise
--- datamodel.dml
+++ datamodel.dml
@@ -3,37 +3,63 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model User {
-  id                  Int    @default(autoincrement()) @id
-  name                String
-  email               String @unique
-  cpf                 Float @unique
-  area                String
-  login               String
-  password            String
-  data_nascimento     String
-  genero              String
-  telefone            Float
-  escolaridade        String
-  alerta_vagas        Boolean @default(false)
-  sit_emprego         String
-  created_at          DateTime @default(now())
-  updated_at          DateTime @default(now())
-  addres              Addres
+  id              Int      @default(autoincrement()) @id
+  name            String
+  email           String   @unique
+  cpf             Float    @unique
+  area            String
+  login           String
+  password        String
+  data_nascimento String
+  genero          String
+  telefone        Float
+  escolaridade    String
+  alerta_vagas    Boolean  @default(false)
+  sit_emprego     String
+  created_at      DateTime @default(now())
+  updated_at      DateTime @default(now())
+  addres          Addres
 }
 model Addres {
   id      Int    @id @default(autoincrement())
-  rua String
-  numero Float
-  bairro String
-  cidade String
-  uf String
-  cep Float
+  rua     String
+  numero  Float
+  bairro  String
+  cidade  String
+  uf      String
+  cep     Float
   user    User   @relation(fields: [user_id], references: [id])
-  user_id  Int    
+  user_id Int
 }
+
+model Enterprise {
+  id               Int              @id @default(autoincrement())
+  name             String
+  email            String
+  login            String
+  password         String
+  cnpj             Float
+  telefone         Float
+  addresInterprise AddresEnterprise
+  image            String?
+  created_at       DateTime         @default(now())
+
+}
+
+model AddresEnterprise {
+  id            Int        @id @default(autoincrement())
+  numero        String
+  rua           String
+  bairro        String
+  cidade        String
+  UF            String
+  enterprise    Enterprise @relation(fields: [interprise_id], references: [id])
+  interprise_id Int
+  created_at    DateTime   @default(now())
+}
```


